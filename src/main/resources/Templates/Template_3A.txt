# Template_3A.txt - Versão final e flexível
PREFIX b3: <https://dcm.ffclrp.usp.br/lssb/stock-market-ontology#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?ticker
WHERE {
  ?setor rdfs:label #SETOR# .
  ?empresa b3:atuaEm ?setor .
  ?empresa b3:temValorMobiliarioNegociado ?valorMobiliario .
  
  # Caminho flexível para o ticker
  ?valorMobiliario (b3:ticker|(b3:representadoPor/b3:ticker)) ?ticker .
}
ORDER BY ?ticker