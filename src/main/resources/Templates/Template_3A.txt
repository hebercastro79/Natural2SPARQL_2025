PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX b3: <https://dcm.ffclrp.usp.br/lssb/stock-market-ontology#>
SELECT ?setorLabel (COUNT(DISTINCT ?empresa) AS ?numeroDeEmpresas)
WHERE {
  ?empresa b3:atuaEm ?setorUri .
  ?setorUri rdfs:label ?setorLabel .
  FILTER(CONTAINS(LCASE(STR(?setorLabel)), "energia") || CONTAINS(LCASE(STR(?setorLabel)), "el√©trica"))
}
GROUP BY ?setorLabel ORDER BY DESC(?numeroDeEmpresas)