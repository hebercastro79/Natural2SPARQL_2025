# Template 1A: Busca por Ticker

PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX b3:  <https://dcm.ffclrp.usp.br/lssb/stock-market-ontology#>

SELECT DISTINCT ?valor
WHERE {
  # 1. Encontra o Valor Mobiliário pelo seu ticker literal.
  ?valorMobiliario b3:ticker #ENTIDADE_NOME# .
  
  # 2. Encontra a Negociação que "é uma negociação de" este Valor Mobiliário.
  ?negociadoInst b3:ehNegociacaoDe ?valorMobiliario . 
  
  # 3. Filtra pela data.
  ?negociadoInst b3:negociadoDurante [ b3:ocorreEmData #DATA# ] .
  
  # 4. Pega o valor desejado.
  ?negociadoInst b3:#VALOR_DESEJADO# ?valor .
}
LIMIT 10